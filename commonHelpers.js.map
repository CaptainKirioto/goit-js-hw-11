{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// функції для HTTP-запитів\n\nexport function getImage(requestedImg) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '44178222-91171e7a1f266369aa2a731c5',\n    q: requestedImg,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n    return res.json();\n  });\n}\n","// функції для відображення елементів інтерфейсу\n\n/* ----------- SimpleLightbox ----------- */\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n/* ------------------------------ */\n\nexport function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n<li class=\"gallery-item\">\n  <a class=\"img-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-img\" alt=\"${tags}\" src=${webformatURL}></img> </a>\n    <div class=\"stats-container\">\n      <span class=\"stats-info\"><h5>Likes:</h5><p>${likes}</p></span>\n      <span class=\"stats-info\"><h5>Views:</h5><p>${views} </p></span>\n      <span class=\"stats-info\"><h5>Comments:</h5><p>${comments}</p></span>\n      <span class=\"stats-info\"><h5>Downloads:</h5><p>${downloads}</p></span>\n    </div>\n</li >\n`\n    )\n    .join('');\n}\n\nexport function lightboxImg() {\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: '250ms',\n    captionsData: 'alt',\n  });\n  lightbox.refresh();\n}\n\n//! Other option\n\n// export function createMarkup(image) {\n//   return `\n//  <li class=\"gallery-item\">\n//    <a class=\"img-link\" href=\"${image.largeImageURL}\">\n//     <img class=\"gallery-img\" alt=${image.tags} src=${image.webformatURL}></img>\n//    </a>\n//     <div class=\"stats-container\">\n//       <p class=\"p-likes\">Likes:${image.likes}</p>\n//       <p class=\"p-views\">Views:${image.views} </p>\n//       <p class=\"p-comments\">Comments:${image.comments}</p>\n//      <p class=\"p-downloads\">Downloads:${image.downloads}</p>\n//      </div>\n\n//  </li >\n//  `;\n// }\n\n// export function insertMarkup(arr) {\n//   return arr.map(createMarkup).join('');\n// }\n\n// ---------- For main.js ----------\n// const markup = insertMarkup(data.hits);\n// gallery.innerHTML = markup;\n","// логіка роботи додатка\n\n/* ----------- iziToast ----------- */\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n/* --------- Function import --------- */\n\nimport { getImage } from './js/pixabay-api';\nimport { createMarkup, lightboxImg } from './js/render-functions';\n\n/* ------------------------------ */\n\nconst form = document.querySelector('.search-form');\nform.addEventListener('submit', searchImg);\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nfunction showLoader() {\n  loader.style.visibility = 'visible';\n}\nfunction hideLoader() {\n  loader.style.visibility = 'hidden';\n}\n\nhideLoader();\n\nfunction searchImg(event) {\n  event.preventDefault();\n\n  gallery.innerHTML = '';\n  let query = event.target.elements.search.value.trim();\n  if (!query) {\n    return iziToast.show({\n      message: \"You can't do that here\",\n      position: 'topRight',\n      backgroundColor: '#EF4040',\n      messageColor: '#FFFFFF',\n    });\n  }\n  if (query.length > 100) {\n    return iziToast.show({\n      message: \"It's too long, buddy\",\n      position: 'topRight',\n      backgroundColor: '#EF4040',\n      messageColor: '#FFFFFF',\n    });\n  }\n  showLoader();\n\n  getImage(query)\n    .then(data => {\n      if (data.hits.length != 0) {\n        gallery.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n        lightboxImg();\n        event.target.elements.search.value = '';\n      } else {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your</br> search query. Please try again!',\n          maxWidth: '432px',\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n          messageColor: '#FFFFFF',\n        });\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n"],"names":["getImage","requestedImg","BASE_URL","params","url","res","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightboxImg","SimpleLightbox","form","searchImg","gallery","loader","showLoader","hideLoader","event","query","iziToast","data","error"],"mappings":"6vBAEO,SAASA,EAASC,EAAc,CACrC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,UAAU,EAEhC,OAAOA,EAAI,MACf,CAAG,CACH,CCVO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,8BAEkBL,CAAa;AAAA,oCACPC,CAAI,SAASF,CAAY;AAAA;AAAA,mDAEVG,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA,CAI3D,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,GAAc,CACX,IAAIC,EAAe,aAAc,CAChD,aAAc,QACd,aAAc,KAClB,CAAG,EACQ,QAAO,CAClB,CAEA;AC9BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAClDA,EAAK,iBAAiB,SAAUC,CAAS,EACzC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CACpBD,EAAO,MAAM,WAAa,SAC5B,CACA,SAASE,GAAa,CACpBF,EAAO,MAAM,WAAa,QAC5B,CAEAE,IAEA,SAASJ,EAAUK,EAAO,CACxBA,EAAM,eAAc,EAEpBJ,EAAQ,UAAY,GACpB,IAAIK,EAAQD,EAAM,OAAO,SAAS,OAAO,MAAM,OAC/C,GAAI,CAACC,EACH,OAAOC,EAAS,KAAK,CACnB,QAAS,yBACT,SAAU,WACV,gBAAiB,UACjB,aAAc,SACpB,CAAK,EAEH,GAAID,EAAM,OAAS,IACjB,OAAOC,EAAS,KAAK,CACnB,QAAS,uBACT,SAAU,WACV,gBAAiB,UACjB,aAAc,SACpB,CAAK,EAEHJ,IAEArB,EAASwB,CAAK,EACX,KAAKE,GAAQ,CACRA,EAAK,KAAK,QAAU,GACtBP,EAAQ,mBAAmB,YAAab,EAAaoB,EAAK,IAAI,CAAC,EAC/DX,IACAQ,EAAM,OAAO,SAAS,OAAO,MAAQ,IAErCE,EAAS,KAAK,CACZ,QACE,gFACF,SAAU,QACV,SAAU,WACV,gBAAiB,UACjB,aAAc,SACxB,CAAS,CAET,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbL,GACN,CAAK,CACL"}